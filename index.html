<!DOCTYPE html>

<html>

<head>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<link rel="stylesheet" href=
  "https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.css">
<script src=
  "https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src=
  "https://cdnjs.cloudflare.com/ajax/libs/seedrandom/2.4.2/seedrandom.js"></script>

<link rel="stylesheet" href="./css/webSTYLE.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

</head>

<body>
<div class="container" id="startScreen">
  <div id="topGRIDhold">
      <div class="grid-container" id="topROPE">
        <i style = "font-size: 35px;" class="fa fa-exclamation-circle" aria-hidden="true" id="activity-btn"></i>
        <div class = "search-wrapper">
          <input type="text" id = "search-bar" placeholder="Destination Address">
          <div class = "fa fa-search" style = "font-size: 25px; color: #666666;"></div>
        </div>
        <i style = "font-size: 35px;" class="fa fa-cog" aria-hidden="true" id="settings-btn" onclick="window.open('./settings.html', '_self');"></i>
      </div>
  </div>
  <!-- contains google map API and button overlay -->
  <div class="outerdiv"> 
    <div id = "map">
    </div>
    <script>
      function initMap(){
        var map = new google.maps.Map(document.getElementById("map"), {
          zoom: 13,
          center: {lat: 41.878113, lng: -87.629799},
          disableDefaultUI: true,
          mapId: '5df879b1815c9bab'
        });


        var mark1 = new google.maps.Marker({
          position: {lat: 41.898120, lng: -87.6389900},
          map,
          icon: {
            url: "./images/warning.svg",
            scaledSize: new google.maps.Size(20,20)
          },
        });

        var infowindow1 = new google.maps.InfoWindow({
          content: '<div id="content"><header style = "font-weight: bold;">Activity: 0.2 mi</header><div>Armed Robbery</div><div style="color: green;">Tip: Bring Pepper Spray</div></div>',
        });

        mark1.addListener("click", () => {
          infowindow1.open({
            anchor: mark1,
            map,
            shouldFocus: false,
          });
        });

        var mark2 = new google.maps.Marker({
          position: {lat: 41.874035, lng: -87.623872},
          map,
          icon: {
            url: "./images/warning.svg",
            scaledSize: new google.maps.Size(20,20)
          },
        });

        mark2.addListener("click", () => {
          infowindow1.open({
            anchor: mark2,
            map,
            shouldFocus: false,
          });
        });

        var mark3 = new google.maps.Marker({
          position: {lat: 41.867196, lng: -87.630564},
          map,
          icon: {
            url: "./images/warning.svg",
            scaledSize: new google.maps.Size(20,20)
          },
        });

        mark3.addListener("click", () => {
          infowindow1.open({
            anchor: mark3,
            map,
            shouldFocus: false,
          });
        });

        var mark4 = new google.maps.Marker({
          position: {lat: 41.856073, lng: -87.632023},
          map,
          icon: {
            url: "./images/warning.svg",
            scaledSize: new google.maps.Size(20,20)
          },
        });

        mark4.addListener("click", () => {
          infowindow1.open({
            anchor: mark4,
            map,
            shouldFocus: false,
          });
        });

        var mark5 = new google.maps.Marker({
          position: {lat: 41.871350, lng: -87.642061},
          map,
          icon: {
            url: "./images/warning.svg",
            scaledSize: new google.maps.Size(20,20)
          },
        });

        mark5.addListener("click", () => {
          infowindow1.open({
            anchor: mark5,
            map,
            shouldFocus: false,
          });
        });

        var mark6 = new google.maps.Marker({
          position: {lat: 41.884387, lng: -87.649268},
          map,
          icon: {
            url: "./images/warning.svg",
            scaledSize: new google.maps.Size(20,20)
          },
        });

        mark6.addListener("click", () => {
          infowindow1.open({
            anchor: mark6,
            map,
            shouldFocus: false,
          });
        });

        const infowindow = new google.maps.InfoWindow({
          content: '<div id="content"><header><b>Current Location</b></header></div>',
        });

        let currentLocation = new google.maps.Marker({
          position: {lat: 41.884387, lng: -87.634253},
          map,
          icon: {
            path: google.maps.SymbolPath.CIRCLE,
            scale: 10,
            fillColor: "#1473E6",
            strokeWeight: 3,
            strokeColor: "white",
            fillOpacity: 1,
          },
          title: "Current Location",

        });

        currentLocation.addListener("click", () => {
          infowindow.open({
            anchor: currentLocation,
            map,
            shouldFocus: false,
          });
        });

        

      }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAK6sTsieht6yFkf-2DDBTnglM1LnBUEK0&callback=initMap"></script>
    
    <div id = "emergency-btn">
      <i style = "font-size: 35px;" class="fa fa-phone" aria-hidden="true" id="phone-icon"></i>
      Emergency
    </div>

    <div id = "report-btn">
      <i style = "font-size: 35px;" class="fa fa-pencil" aria-hidden="true" id="pencil-icon"></i>
      Report
    </div>
    
  </div>
</div>

<!-- The Modal -->
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <div>
      <header style = "margin-bottom: 10px; font-size: 20px;">
        Report Incident
      </header>
    </div>
    <div class="select-row">
      <div class = "dropdown-wrapper">
        <input type="checkbox" class="checkbox-round" id = "check1"/>
        <input type="text" id = "crime-dropdown-input" placeholder="Input Crime">
        <div class = "dropdown">
          <button onclick="myFunction()" class="dropbtn"><i class="fa fa-sort-desc" id = "down-icon" aria-hidden="true"></i></button>
          <div id="myDropdown" class="dropdown-content">
            <a href="#">Stabbing</a>
            <a href="#">Shoplifting</a>
            <a href="#">Robbery</a>
          </div>
        </div>
      </div>
      <div class = "dropdown-wrapper">
        <input type="checkbox" class="checkbox-round" id = "check2"/>
        Other
      </div>

    </div>
    <textarea id = "crime-input" placeholder ="Description of crime..."></textarea>
    <div class = "row">
      <div class = "column">
        <button type="button" id ="submit-btn">Submit</button>
      </div>
      <div class = "column">
        <button type="button" id ="cancel-btn">Cancel</button>
      </div>
    </div>
    
  </div>

</div>

<div id="myModal2" class="modal2">

  <!-- Modal content -->
  <div class="modal2-content">
    <div>
      <header style = "margin: 20px;">
        Are you sure you want to submit an emergency call?
      </header>
    </div>
    <div class = "row2">
      <button type="button" id ="yes-btn">Yes</button>
      <button type="button" id ="no-btn">No</button>
    </div>
    
  </div>

</div>

</body>

<script src ="./js/index-functions.js"></script>

</html>